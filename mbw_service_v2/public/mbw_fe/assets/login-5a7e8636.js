import{u as S,b as F,r as P,c as T,d as A,e as E,j as e,S as a,T as i,L as d,R,p as I,I as k,f as q,g as B,W as C}from"./index-04f546fc.js";import{c as H,a as l,u as M,F as J,A as c,o as N,R as m,L as V}from"./form-provider-74159fe2.js";function W(){const{login:u}=S(),h=F(),[n,x]=P.useState(""),g=T().get("returnTo"),r=A(),p=H().shape({email:l().required("Email is required").email("Email must be a valid email address"),password:l().required("Password is required")}),j={email:"demo@minimals.cc",password:"demo1234"},o=M({resolver:N(p),defaultValues:j}),{reset:w,handleSubmit:b,formState:{isSubmitting:f}}=o,y=b(async t=>{try{await u?.(t.email,t.password),h.push(g||E)}catch(s){console.error(s),w(),x(typeof s=="string"?s:s.message)}}),v=e.jsxs(a,{spacing:2,sx:{mb:5},children:[e.jsx(i,{variant:"h4",children:"Sign in to Minimal"}),e.jsxs(a,{direction:"row",spacing:.5,children:[e.jsx(i,{variant:"body2",children:"New user?"}),e.jsx(d,{component:R,href:I.auth.jwt.register,variant:"subtitle2",children:"Create an account"})]})]}),L=e.jsxs(a,{spacing:2.5,children:[!!n&&e.jsx(c,{severity:"error",children:n}),e.jsx(m,{name:"email",label:"Email address"}),e.jsx(m,{name:"password",label:"Password",type:r.value?"text":"password",InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(q,{onClick:r.onToggle,edge:"end",children:e.jsx(B,{icon:r.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(d,{variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(V,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:f,children:"Login"})]});return e.jsxs(J,{methods:o,onSubmit:y,children:[v,e.jsxs(c,{severity:"info",sx:{mb:3},children:["Use email : ",e.jsx("strong",{children:"demo@minimals.cc"})," / password :",e.jsx("strong",{children:" demo1234"})]}),L]})}function G(){return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx("title",{children:" Jwt: Login"})}),e.jsx(W,{})]})}export{G as default};
