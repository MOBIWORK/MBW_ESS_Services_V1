import{o as n,b as s,a as e,q as w,t as v,x as z,N as G,y as t,j as l,w as g,F as C,d as T,c as u,n as B,g as N,H as D,p as $,e as R,h as b,J as A,f as E,O as H,z as U,A as V,Q as F,R as K,S as X,U as q,V as Y,W as Z,X as J,Y as Q,Z as W,$ as O,a0 as M,a1 as ee,M as I,K as te,L as oe,a2 as ne}from"./index-aea319af.js";import{u as P,a as S,d as se}from"./notification-c4068361.js";import{I as ie}from"./x-98362857.js";import"./iconify-d47d89f2.js";import{_ as re}from"./UserAvatar.vue_vue_type_script_setup_true_lang-254c9b2b.js";import{_ as k}from"./SidebarLink.vue_vue_type_script_setup_true_lang-cf25aaa0.js";import{_ as ce,a as ae,L as le}from"./contact-2-034ce8d9.js";import{_ as de}from"./Avatar.vue_vue_type_script_setup_true_lang-827ced2f.js";import{D as _e}from"./Dropdown-2ffa90e9.js";import"./error-bdedfa48.js";import"./use-tracked-pointer-f136af1c.js";import"./use-tree-walker-388abf0b.js";const ue={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},he=e("path",{d:"M18 6 7 17l-5-5"},null,-1),pe=e("path",{d:"m22 10-7.5 7.5L13 16"},null,-1),me=[he,pe];function ge(r,o){return n(),s("svg",ue,me)}const we={name:"lucide-check-check",render:ge},fe={class:"space-x-1 text-gray-700"},xe={class:"font-medium text-gray-900"},ke=e("span",null,"mentioned you in ticket",-1),ve={class:"font-medium text-gray-900"},$e=w({__name:"NotificationsMention",props:{user_from:null,reference_ticket:null},setup(r){return(o,c)=>(n(),s("span",fe,[e("span",xe,v(r.user_from.name),1),ke,e("span",ve,v(r.reference_ticket),1)]))}}),be={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-5 py-2.5"},ye=e("span",{class:"text-lg font-medium"},"Notifications",-1),Le={class:"divide-y text-base"},Ce={class:"mb-2 leading-5"},Te={class:"flex items-center gap-2"},Ae={class:"text-sm text-gray-600"},Se={key:0,class:"h-1.5 w-1.5 rounded-full bg-gray-900"},Be=w({__name:"Notifications",setup(r){const o=P(),c=S(),p=z(null);G(p,()=>{o.visible&&o.toggle()});function m(i){switch(i.notification_type){case"Mention":return $e}}function d(i){switch(i.notification_type){case"Mention":return{name:"TicketAgent",params:{ticketId:i.reference_ticket},hash:"#"+i.reference_comment}}}return(i,a)=>{const y=we,f=b("Button"),L=ie,x=b("RouterLink");return t(o).visible?(n(),s("span",{key:0,ref_key:"target",ref:p,class:"fixed z-10 h-screen overflow-auto bg-white",style:R({"box-shadow":"8px 0px 8px rgba(0, 0, 0, 0.1)","max-width":"350px","min-width":"350px",left:t(c).width})},[e("div",be,[ye,e("span",null,[l(f,{theme:"blue",variant:"ghost",onClick:a[0]||(a[0]=()=>t(o).clear.submit())},{icon:g(()=>[l(y,{class:"h-4 w-4"})]),_:1}),l(f,{theme:"gray",variant:"ghost",onClick:a[1]||(a[1]=()=>t(o).toggle())},{icon:g(()=>[l(L,{class:"h-4 w-4"})]),_:1})])]),e("div",Le,[(n(!0),s(C,null,T(t(o).data,h=>(n(),u(x,{key:h.name,class:"flex cursor-pointer items-start gap-3.5 px-5 py-2.5 hover:bg-gray-100",to:d(h),onClick:a[2]||(a[2]=()=>t(o).toggle())},{default:g(()=>[l(t(re),B(N(h.user_from)),null,16),e("span",null,[e("div",Ce,[(n(),u(D(m(h)),B(N(h)),null,16))]),e("div",Te,[e("div",Ae,v(t(se)(h.creation).fromNow()),1),h.read?$("",!0):(n(),s("div",Se))])])]),_:2},1032,["to"]))),128))])],4)):$("",!0)}}}),Ne={class:"text-base font-medium"},Ee=w({__name:"UserMenu",props:{options:{type:Array,required:!0}},setup(r){const o=A(),c=S();return(p,m)=>{const d=ce,i=ae;return n(),u(t(_e),{options:r.options},{default:g(({open:a})=>[e("div",{class:E(["-all flex w-max cursor-pointer items-center gap-2 rounded px-0.5 py-2",{"hover:bg-gray-100":t(c).isExpanded}])},[l(t(de),{size:"md",label:t(o).userName,image:t(o).userImage},null,8,["label","image"]),e("div",{class:E(["flex shrink-0 items-center gap-2 text-gray-800 duration-300",{"opacity-100":t(c).isExpanded,"opacity-0":!t(c).isExpanded,"-z-50":!t(c).isExpanded}])},[e("div",Ne,v(t(o).userName),1),a?(n(),u(d,{key:0,class:"w-4 text-gray-700"})):(n(),u(i,{key:1,class:"w-4 text-gray-700"}))],2)],2)]),_:1},8,["options"])}}}),Me={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Re=e("path",{d:"m18 9-6-6-6 6"},null,-1),Oe=e("path",{d:"M12 3v14"},null,-1),Ie=e("path",{d:"M5 21h14"},null,-1),Pe=[Re,Oe,Ie];function je(r,o){return n(),s("svg",Me,Pe)}const ze={name:"lucide-arrow-up-from-line",render:je},Ge={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},De=e("path",{d:"M3 5v14"},null,-1),He=e("path",{d:"M21 12H7"},null,-1),Ue=e("path",{d:"m15 18 6-6-6-6"},null,-1),Ve=[De,He,Ue];function Fe(r,o){return n(),s("svg",Ge,Ve)}const Ke={name:"lucide-arrow-right-from-line",render:Fe},Xe={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},qe=e("path",{d:"m9 6-6 6 6 6"},null,-1),Ye=e("path",{d:"M3 12h14"},null,-1),Ze=e("path",{d:"M21 19V5"},null,-1),Je=[qe,Ye,Ze];function Qe(r,o){return n(),s("svg",Xe,Je)}const We={name:"lucide-arrow-left-from-line",render:Qe},et={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},tt=e("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"},null,-1),ot=e("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"},null,-1),nt=[tt,ot];function st(r,o){return n(),s("svg",et,nt)}const it={name:"lucide-book-open",render:st},rt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},ct=e("path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973"},null,-1),at=e("path",{d:"m13 12-3 5h4l-3 5"},null,-1),lt=[ct,at];function dt(r,o){return n(),s("svg",rt,lt)}const _t={name:"lucide-cloud-lightning",render:dt},ut={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},ht=e("path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2"},null,-1),pt=[ht];function mt(r,o){return n(),s("svg",ut,pt)}const gt={name:"lucide-folder-open",render:mt},wt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},ft=e("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"},null,-1),xt=e("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},null,-1),kt=[ft,xt];function vt(r,o){return n(),s("svg",wt,kt)}const $t={name:"lucide-inbox",render:vt},bt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},yt=e("rect",{width:"7",height:"7",x:"3",y:"3",rx:"1"},null,-1),Lt=e("rect",{width:"7",height:"7",x:"14",y:"3",rx:"1"},null,-1),Ct=e("rect",{width:"7",height:"7",x:"14",y:"14",rx:"1"},null,-1),Tt=e("rect",{width:"7",height:"7",x:"3",y:"14",rx:"1"},null,-1),At=[yt,Lt,Ct,Tt];function St(r,o){return n(),s("svg",bt,At)}const Bt={name:"lucide-layout-grid",render:St},Nt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Et=e("path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"},null,-1),Mt=e("path",{d:"M13 5v2"},null,-1),Rt=e("path",{d:"M13 17v2"},null,-1),Ot=e("path",{d:"M13 11v2"},null,-1),It=[Et,Mt,Rt,Ot];function Pt(r,o){return n(),s("svg",Nt,It)}const jt={name:"lucide-ticket",render:Pt},zt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Gt=e("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"},null,-1),Dt=e("circle",{cx:"12",cy:"7",r:"4"},null,-1),Ht=[Gt,Dt];function Ut(r,o){return n(),s("svg",zt,Ht)}const Vt={name:"lucide-user",render:Ut},Ft={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Kt=e("path",{d:"M18 20a6 6 0 0 0-12 0"},null,-1),Xt=e("circle",{cx:"12",cy:"10",r:"4"},null,-1),qt=e("circle",{cx:"12",cy:"12",r:"10"},null,-1),Yt=[Kt,Xt,qt];function Zt(r,o){return n(),s("svg",Ft,Yt)}const Jt={name:"lucide-user-circle-2",render:Zt},Qt={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},Wt=e("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"},null,-1),eo=e("circle",{cx:"9",cy:"7",r:"4"},null,-1),to=e("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"},null,-1),oo=e("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"},null,-1),no=[Wt,eo,to,oo];function so(r,o){return n(),s("svg",Qt,no)}const io={name:"lucide-users",render:so},ro={class:"mb-4"},co={key:0,class:"absolute z-20 h-1.5 w-1.5 translate-x-6 translate-y-1 rounded-full bg-gray-800",theme:"gray",variant:"solid"},ao={class:"mb-4 flex flex-col gap-1"},lo={class:"flex flex-col gap-1"},_o=e("div",{class:"grow"},null,-1),uo=w({__name:"SideBar",setup(r){const o=ee(),c=I(),p=A(),m=H(),d=P(),{isExpanded:i,width:a}=U(S()),y=V(()=>[{label:"Tickets",icon:jt,to:F},{label:"Dashboard",icon:Bt,to:K},{label:"Agents",icon:Vt,to:X},{label:"Knowledge base",icon:it,to:"DeskKBHome",isBeta:!0}]),f=[{label:"Teams",icon:io,to:q},{label:"Escalation rules",icon:ze,to:Y,isBeta:!0},{label:"Ticket types",icon:gt,to:Z,hide:!0},{label:"Canned responses",icon:_t,to:J,isBeta:!0},{label:"Customers",icon:Jt,to:Q},{label:"Contacts",icon:le,to:W}],L=[{label:"Shortcuts",icon:"command",onClick:()=>m.toggleVisibility(!0)},{label:"Customer portal",icon:"users",onClick:()=>{const x=c.resolve({name:O});window.open(x.href,"_blank")}},{label:"Log out",icon:"log-out",onClick:()=>p.logout()}];return(x,h)=>{const j=b("Badge");return n(),s("div",{class:"z-0 flex select-none flex-col border-r border-gray-200 bg-gray-50 p-2 text-base duration-300 ease-in-out",style:R({"min-width":t(a),"max-width":t(a)})},[l(Ee,{class:"mb-2 ml-0.5",options:L}),e("span",ro,[!t(i)&&t(d).unread?(n(),s("div",co)):$("",!0),l(t(k),{class:"relative",label:" Notifications",icon:t($t),"on-click":()=>t(d).toggle(),"is-expanded":t(i)},{right:g(()=>[t(i)&&t(d).unread?(n(),u(j,{key:0,label:t(d).unread,theme:"gray",variant:"subtle"},null,8,["label"])):$("",!0)]),_:1},8,["icon","on-click","is-expanded"])]),e("div",ao,[(n(!0),s(C,null,T(t(y),_=>(n(),u(t(k),M(_,{key:_.label,"is-expanded":t(i),"is-active":_.to?.includes(t(o).name.toString())}),null,16,["is-expanded","is-active"]))),128))]),e("div",lo,[(n(!0),s(C,null,T(f.filter(_=>!_.hide),_=>(n(),u(t(k),M(_,{key:_.label,"is-expanded":t(i),"is-active":_.to?.includes(t(o).name?.toString())}),null,16,["is-expanded","is-active"]))),128))]),_o,l(t(k),{icon:t(i)?t(We):t(Ke),"is-active":!1,"is-expanded":t(i),label:t(i)?"Collapse":"Expand","on-click":()=>i.value=!t(i)},null,8,["icon","is-expanded","label","on-click"])],4)}}}),ho={class:"flex h-screen w-screen"},Co=w({__name:"AgentRoot",setup(r){const o=I(),c=A(),p=te();return oe(()=>{c.hasDeskAccess||o.replace({name:O}),p.isSetupComplete||o.replace({name:ne})}),(m,d)=>{const i=b("RouterView");return n(),s("div",ho,[l(uo),l(t(Be)),(n(),u(i,{key:m.$route.fullPath,class:"z-0 grow overflow-auto"}))])}}});export{Co as default};
